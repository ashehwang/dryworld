{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./index.js"],"names":["svg","d3","select","projection","geoEckert4","pathGenerator","geoPath","g","append","attr","call","zoom","on","event","transform","colorScale","scaleOrdinal","colorValue","d","properties","risk","Promise","all","tsv","json","then","tsvData","topoJSONdata","rowById","forEach","iso_n3","countries","topojson","feature","objects","features","Object","assign","id","domain","map","sort","reverse","range","schemeYlOrRd","length","myColorScale","selectAll","data","enter","text","name","svg2","width","height","render","filter","margin","top","right","bottom","left","innerHeight","innerWidth","yValue","water","xValue","action","filteredData","xScale","scaleBand","padding","yScale","scaleLinear","max","axisLeft","axisBottom","bandwidth","csv","selector","myFilter","document","getElementsByName","node","addEventListener","checked","value","target","querySelector","innerHTML","transition","duration","style","svg3","details","number","mypieColorScale","width3","height3","data3","pie","segments","arc","innerRadius","outerRadius","padAngle","padRadius","sections","content","each","center","centroid","legends","legend","classed","i","colors3","svg4","width4","height4","render2","margin4","country","console","log"],"mappings":";QAAA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;;;;;;;;;;;;;;;;;;AClFA,IAAMA,GAAG,GAAGC,EAAE,CAACC,MAAH,CAAU,aAAV,CAAZ,C,CAEA;;AACA,IAAMC,UAAU,GAAGF,EAAE,CAACG,UAAH,EAAnB;AACA,IAAMC,aAAa,GAAGJ,EAAE,CAACK,OAAH,GAAaH,UAAb,CAAwBA,UAAxB,CAAtB;AAEA,IAAMI,CAAC,GAAGP,GAAG,CAACQ,MAAJ,CAAW,GAAX,CAAV;AAEAD,CAAC,CAACC,MAAF,CAAS,MAAT,EACKC,IADL,CACU,OADV,EACmB,QADnB,E,CAEI;;AAEJT,GAAG,CAACU,IAAJ,CAAST,EAAE,CAACU,IAAH,GAAUC,EAAV,CAAa,MAAb,EAAqB,YAAM;AAChCL,GAAC,CAACE,IAAF,CAAO,WAAP,EAAoBR,EAAE,CAACY,KAAH,CAASC,SAA7B;AACH,CAFQ,CAAT;AAIA,IAAMC,UAAU,GAAGd,EAAE,CAACe,YAAH,EAAnB;;AACA,IAAMC,UAAU,GAAG,SAAbA,UAAa,CAAAC,CAAC;AAAA,SAAIA,CAAC,CAACC,UAAF,CAAaC,IAAjB;AAAA,CAApB;;AAEAC,OAAO,CAACC,GAAR,CAAY,CACRrB,EAAE,CAACsB,GAAH,CAAO,yBAAP,CADQ,EAERtB,EAAE,CAACuB,IAAH,CAAQ,qDAAR,CAFQ,CAAZ,EAGGC,IAHH,CAGQ,gBAA6B;AAAA;AAAA,MAA3BC,OAA2B;AAAA,MAAlBC,YAAkB;;AAC7B,MAAMC,OAAO,GAAG,EAAhB;AACAF,SAAO,CAACG,OAAR,CAAiB,UAAAX,CAAC,EAAI;AAClBU,WAAO,CAACV,CAAC,CAACY,MAAH,CAAP,GAAoBZ,CAApB;AACH,GAFD;AAIA,MAAMa,SAAS,GAAGC,QAAQ,CAACC,OAAT,CAAiBN,YAAjB,EAA+BA,YAAY,CAACO,OAAb,CAAqBH,SAApD,CAAlB;AAEAA,WAAS,CAACI,QAAV,CAAmBN,OAAnB,CAA4B,UAAAX,CAAC,EAAI;AAC7BkB,UAAM,CAACC,MAAP,CAAcnB,CAAC,CAACC,UAAhB,EAA4BS,OAAO,CAACV,CAAC,CAACoB,EAAH,CAAnC;AACH,GAFD;AAIAvB,YAAU,CAACwB,MAAX,CAAkBR,SAAS,CAACI,QAAV,CAAmBK,GAAnB,CAAuBvB,UAAvB,CAAlB,EACKsB,MADL,CACYxB,UAAU,CAACwB,MAAX,GAAoBE,IAApB,GAA2BC,OAA3B,EADZ,EAEKC,KAFL,CAEW1C,EAAE,CAAC2C,YAAH,CAAgB7B,UAAU,CAACwB,MAAX,GAAoBM,MAApC,CAFX,EAZ6B,CAezB;;AAGJ,MAAMC,YAAY,GAAG7C,EAAE,CAACe,YAAH,GAChBuB,MADgB,CACT,CAAC,EAAD,EAAK,KAAL,EAAY,YAAZ,EAA0B,aAA1B,EAAyC,MAAzC,EAAiD,gBAAjD,CADS,EAEhBI,KAFgB,CAEV,CAAC,OAAD,EAAU,SAAV,EAAqB,SAArB,EAAgC,SAAhC,EAA2C,SAA3C,EAAsD,SAAtD,CAFU,CAArB;AAIApC,GAAC,CAACwC,SAAF,CAAY,MAAZ,EACKC,IADL,CACUjB,SAAS,CAACI,QADpB,EAEKc,KAFL,GAEazC,MAFb,CAEoB,MAFpB,EAGSC,IAHT,CAGc,OAHd,EAGuB,SAHvB,EAISA,IAJT,CAIc,GAJd,EAImBJ,aAJnB,EAKQ;AALR,GAMSI,IANT,CAMc,MANd,EAMsB,UAAAS,CAAC;AAAA,WAAI4B,YAAY,CAAC7B,UAAU,CAACC,CAAD,CAAX,CAAhB;AAAA,GANvB,EAOKV,MAPL,CAOY,OAPZ,EAQS0C,IART,CAQc,UAAAhC,CAAC;AAAA,WAAIA,CAAC,CAACC,UAAF,CAAagC,IAAb,GAAoB,IAApB,GAA2BlC,UAAU,CAACC,CAAD,CAArC,GAA2C,OAA/C;AAAA,GARf;AASP,CAlCD;AAoCA,IAAMkC,IAAI,GAAGnD,EAAE,CAACC,MAAH,CAAU,gBAAV,CAAb;AAEA,IAAMmD,KAAK,GAAG,CAACD,IAAI,CAAC3C,IAAL,CAAU,OAAV,CAAf;AACA,IAAM6C,MAAM,GAAG,CAACF,IAAI,CAAC3C,IAAL,CAAU,QAAV,CAAhB;;AAEA,IAAM8C,MAAM,GAAG,SAATA,MAAS,CAACP,IAAD,EAAOQ,MAAP,EAAkB;AAC7B,MAAMC,MAAM,GAAG;AAAEC,OAAG,EAAE,EAAP;AAAWC,SAAK,EAAE,EAAlB;AAAsBC,UAAM,EAAE,EAA9B;AAAkCC,QAAI,EAAE;AAAxC,GAAf;AACA,MAAMC,WAAW,GAAGR,MAAM,GAAGG,MAAM,CAACC,GAAhB,GAAsBD,MAAM,CAACG,MAAjD;AACA,MAAMG,UAAU,GAAGV,KAAK,GAAGI,MAAM,CAACI,IAAf,GAAsBJ,MAAM,CAACE,KAAhD;;AACA,MAAMK,MAAM,GAAG,SAATA,MAAS,CAAA9C,CAAC;AAAA,WAAIA,CAAC,CAAC+C,KAAN;AAAA,GAAhB;;AACA,MAAMC,MAAM,GAAG,SAATA,MAAS,CAAAhD,CAAC;AAAA,WAAIA,CAAC,CAACiD,MAAN;AAAA,GAAhB;;AAEA,MAAMC,YAAY,GAAGpB,IAAI,CAACQ,MAAL,CAAa,UAAAtC,CAAC;AAAA,WAAIA,CAAC,CAACsC,MAAF,KAAaA,MAAjB;AAAA,GAAd,CAArB;AAEA,MAAMa,MAAM,GAAGpE,EAAE,CAACqE,SAAH,GACX;AACA;AAFW,GAGV/B,MAHU,CAGH6B,YAAY,CAAC5B,GAAb,CAAiB0B,MAAjB,CAHG,EAIVvB,KAJU,CAIJ,CAAC,CAAD,EAAIoB,UAAJ,CAJI,EAKVQ,OALU,CAKF,GALE,CAAf,CAT6B,CAgB7B;;AAEA,MAAMC,MAAM,GAAGvE,EAAE,CAACwE,WAAH,GACVlC,MADU,CACH,CAAC,CAAD,EAAItC,EAAE,CAACyE,GAAH,CAAON,YAAP,EAAqBJ,MAArB,CAAJ,CADG,EAEX;AACA;AAHW,GAIVrB,KAJU,CAIJ,CAACmB,WAAD,EAAc,CAAd,CAJI,CAAf;AAMA,MAAMvD,CAAC,GAAG6C,IAAI,CAAC5C,MAAL,CAAY,GAAZ,EACLC,IADK,CACA,WADA,sBAC0BgD,MAAM,CAACI,IADjC,eAC0CJ,MAAM,CAACC,GADjD,OAAV;AAGAnD,GAAC,CAACC,MAAF,CAAS,GAAT,EAAcE,IAAd,CAAmBT,EAAE,CAAC0E,QAAH,CAAYH,MAAZ,CAAnB,EA3B6B,CA4B7B;AACA;AACA;AACA;;AAEAjE,GAAC,CAACC,MAAF,CAAS,GAAT,EACKE,IADL,CACUT,EAAE,CAAC2E,UAAH,CAAcP,MAAd,CADV,EAEK5D,IAFL,CAEU,WAFV,yBAEuCqD,WAFvC,QAjC6B,CAoC7B;AACA;AACA;AACA;AACA;AACA;;AAEAvD,GAAC,CAACwC,SAAF,CAAY,MAAZ,EAAoBC,IAApB,CAAyBoB,YAAzB,EACKnB,KADL,GACazC,MADb,CACoB,MADpB,EAEKC,IAFL,CAEU,OAFV,EAEmB,KAFnB,EAGKA,IAHL,CAGU,GAHV,EAGe,UAAAS,CAAC;AAAA,WAAImD,MAAM,CAACnD,CAAC,CAACiD,MAAH,CAAV;AAAA,GAHhB,EAIK1D,IAJL,CAIU,GAJV,EAIe,UAAAS,CAAC;AAAA,WAAIsD,MAAM,CAACtD,CAAC,CAAC+C,KAAH,CAAV;AAAA,GAJhB,EAKKxD,IALL,CAKU,OALV,EAKmB4D,MAAM,CAACQ,SAAP,EALnB,EAMKpE,IANL,CAMU,QANV,EAMoB,UAAAS,CAAC;AAAA,WAAI4C,WAAW,GAAGU,MAAM,CAACtD,CAAC,CAAC+C,KAAH,CAAxB;AAAA,GANrB;AAOH,CAlDD;;AAoDAhE,EAAE,CAAC6E,GAAH,CAAO,gBAAP,EAAyBrD,IAAzB,CAA8B,UAAAuB,IAAI,EAAI;AAClCA,MAAI,CAACnB,OAAL,CAAa,UAAAX,CAAC,EAAI;AACdA,KAAC,CAAC+C,KAAF,GAAU,CAAC/C,CAAC,CAAC+C,KAAb;AACH,GAFD;AAIA,MAAIc,QAAQ,GAAG,OAAf;AACA,MAAIC,QAAQ,GAAGC,QAAQ,CAACC,iBAAT,CAA2B,QAA3B,CAAf;AAEA3B,QAAM,CAACP,IAAD,EAAO+B,QAAP,CAAN;AAEAC,UAAQ,CAACnD,OAAT,CAAkB,UAAAsD,IAAI;AAAA,WAAIA,IAAI,CAACC,gBAAL,CAAsB,QAAtB,EAAgC,YAAM;AAC5D,UAAGD,IAAI,CAACE,OAAR,EAAiBN,QAAQ,GAAGI,IAAI,CAACG,KAAhB;AACjB,UAAIC,MAAM,GAAGN,QAAQ,CAACO,aAAT,CAAuB,aAAvB,CAAb;AACAD,YAAM,CAACE,SAAP,GAAmB,EAAnB;AACAlC,YAAM,CAACP,IAAD,EAAO+B,QAAP,CAAN;AACA9E,QAAE,CAAC8C,SAAH,CAAa,MAAb,EACK2C,UADL,GAEKC,QAFL,CAEc,IAFd,EAGKC,KAHL,CAGW,MAHX,EAGmB,SAHnB,EAL4D,CASxD;AACP,KAVyB,CAAJ;AAAA,GAAtB;AAYA,MAAMC,IAAI,GAAG5F,EAAE,CAACC,MAAH,CAAU,SAAV,CAAb,CAtBkC,CAuBlB;;AAEhB,MAAM4F,OAAO,GAAG,CAAC;AAAE7B,SAAK,EAAE,yBAAT;AAAoC8B,UAAM,EAAE;AAA5C,GAAD,EAAmD;AAAE9B,SAAK,EAAE,0BAAT;AAAqC8B,UAAM,EAAE;AAA7C,GAAnD,EAAsG;AAAE9B,SAAK,EAAE,0BAAT;AAAqC8B,UAAM,EAAE;AAA7C,GAAtG,EAA0J;AAAE9B,SAAK,EAAE,4BAAT;AAAuC8B,UAAM,EAAE;AAA/C,GAA1J,CAAhB,CAzBkC,CA0BlC;;AACA,MAAMC,eAAe,GAAG/F,EAAE,CAACe,YAAH,GACnBuB,MADmB,CACZ,CAAC,EAAD,EAAK,EAAL,EAAS,GAAT,EAAc,GAAd,CADY,EAEnBI,KAFmB,CAEb,CAAC,SAAD,EAAY,SAAZ,EAAuB,MAAvB,EAA+B,SAA/B,CAFa,CAAxB,CA3BkC,CA8B9B;;AAEJ,MAAMsD,MAAM,GAAG,CAACJ,IAAI,CAACpF,IAAL,CAAU,OAAV,CAAhB;AACA,MAAMyF,OAAO,GAAG,CAACL,IAAI,CAACpF,IAAL,CAAU,QAAV,CAAjB;AAEA,MAAM0F,KAAK,GAAGlG,EAAE,CAACmG,GAAH,GAAS3D,IAAT,CAAc,IAAd,EAAoB6C,KAApB,CAA0B,UAASpE,CAAT,EAAW;AAAC,WAAOA,CAAC,CAAC6E,MAAT;AAAiB,GAAvD,EAAyDD,OAAzD,CAAd,CAnCkC,CAoClC;;AACA,MAAIO,QAAQ,GAAGpG,EAAE,CAACqG,GAAH,GACEC,WADF,CACc,CADd,EAEEC,WAFF,CAEc,GAFd,EAGEC,QAHF,CAGW,IAHX,EAIEC,SAJF,CAIY,EAJZ,CAAf;AAKA,MAAIC,QAAQ,GAAGd,IAAI,CAACrF,MAAL,CAAY,GAAZ,EAAiBC,IAAjB,CAAsB,WAAtB,EAAmC,qBAAnC,EACEsC,SADF,CACY,MADZ,EACoBC,IADpB,CACyBmD,KADzB,CAAf;AAEAQ,UAAQ,CAAC1D,KAAT,GAAiBzC,MAAjB,CAAwB,MAAxB,EAAgCC,IAAhC,CAAqC,GAArC,EAA0C4F,QAA1C,EAAoD5F,IAApD,CAAyD,MAAzD,EAAiE,UAASS,CAAT,EAAW;AAAC,WAAO8E,eAAe,CAAC9E,CAAC,CAAC8B,IAAF,CAAO+C,MAAR,CAAtB;AAAsC,GAAnH;AACA,MAAIa,OAAO,GAAG3G,EAAE,CAACC,MAAH,CAAU,GAAV,EAAe6C,SAAf,CAAyB,MAAzB,EAAiCC,IAAjC,CAAsCmD,KAAtC,CAAd;AACAS,SAAO,CAAC3D,KAAR,GAAgBzC,MAAhB,CAAuB,MAAvB,EAA+BqG,IAA/B,CAAoC,UAAS3F,CAAT,EAAW;AAC3C,QAAI4F,MAAM,GAAGT,QAAQ,CAACU,QAAT,CAAkB7F,CAAlB,CAAb;AACAjB,MAAE,CAACC,MAAH,CAAU,IAAV,EAAgBO,IAAhB,CAAqB,GAArB,EAA0BqG,MAAM,CAAC,CAAD,CAAhC,EAAqCrG,IAArC,CAA0C,GAA1C,EAA+CqG,MAAM,CAAC,CAAD,CAArD,EAF2C,CAG3B;AACnB,GAJD;AAMA,MAAIE,OAAO,GAAGnB,IAAI,CAACrF,MAAL,CAAY,GAAZ,EAAiBC,IAAjB,CAAsB,WAAtB,EAAmC,qBAAnC,EACGsC,SADH,CACa,UADb,EACyBC,IADzB,CAC8BmD,KAD9B,CAAd;AAEA,MAAIc,MAAM,GAAGD,OAAO,CAAC/D,KAAR,GAAgBzC,MAAhB,CAAuB,GAAvB,EAA4B0G,OAA5B,CAAoC,SAApC,EAA+C,IAA/C,EAAqDzG,IAArD,CAA0D,WAA1D,EAAuE,UAASS,CAAT,EAAWiG,CAAX,EAAa;AAAC,WAAO,iBAAgB,CAACA,CAAC,GAAC,CAAH,IAAM,EAAtB,GAA2B,GAAlC;AAAuC,GAA5H,CAAb;AACAF,QAAM,CAACzG,MAAP,CAAc,MAAd,EAAsBC,IAAtB,CAA2B,OAA3B,EAAoC,EAApC,EAAwCA,IAAxC,CAA6C,QAA7C,EAAuD,EAAvD,EAA2DA,IAA3D,CAAgE,MAAhE,EAAwE,UAASS,CAAT,EAAW;AAAC,WAAOkG,OAAO,CAAClG,CAAC,CAAC8B,IAAF,CAAO+C,MAAR,CAAd;AAA+B,GAAnH;AACAkB,QAAM,CAACzG,MAAP,CAAc,MAAd,EAAsB0G,OAAtB,CAA8B,OAA9B,EAAuC,IAAvC,EAA6ChE,IAA7C,CAAkD,UAAShC,CAAT,EAAW;AACzD,WAAOA,CAAC,CAAC8B,IAAF,CAAOiB,KAAd;AACH,GAFD,EAEGxD,IAFH,CAEQ,MAFR,EAEgB,UAASS,CAAT,EAAW;AAAC,WAAOkG,OAAO,CAAClG,CAAC,CAAC8B,IAAF,CAAO+C,MAAR,CAAd;AAA+B,GAF3D,EAGKtF,IAHL,CAGU,GAHV,EAGe,EAHf,EAIKA,IAJL,CAIU,GAJV,EAIe,EAJf;AAKH,CA7DD;AA+DA,IAAM4G,IAAI,GAAGpH,EAAE,CAACC,MAAH,CAAU,gBAAV,CAAb;AAEA,IAAMoH,MAAM,GAAG,CAACD,IAAI,CAAC5G,IAAL,CAAU,OAAV,CAAhB;AACA,IAAM8G,OAAO,GAAG,CAACF,IAAI,CAAC5G,IAAL,CAAU,QAAV,CAAjB;;AAEA,IAAM+G,OAAO,GAAG,SAAVA,OAAU,CAACxE,IAAD,EAAU;AACtB,MAAMyE,OAAO,GAAG;AAAE/D,OAAG,EAAE,EAAP;AAAWC,SAAK,EAAE,EAAlB;AAAsBC,UAAM,EAAE,EAA9B;AAAkCC,QAAI,EAAE;AAAxC,GAAhB;AACA,MAAMC,WAAW,GAAGyD,OAAO,GAAGE,OAAO,CAAC/D,GAAlB,GAAwB+D,OAAO,CAAC7D,MAApD;AACA,MAAMG,UAAU,GAAGuD,MAAM,GAAGG,OAAO,CAAC5D,IAAjB,GAAwB4D,OAAO,CAAC9D,KAAnD;;AACA,MAAMK,MAAM,GAAG,SAATA,MAAS,CAAA9C,CAAC;AAAA,WAAIA,CAAC,CAAC+C,KAAN;AAAA,GAAhB;;AACA,MAAMC,MAAM,GAAG,SAATA,MAAS,CAAAhD,CAAC;AAAA,WAAIA,CAAC,CAACwG,OAAN;AAAA,GAAhB;;AAEA,MAAMrD,MAAM,GAAGpE,EAAE,CAACqE,SAAH,GACV/B,MADU,CACHS,IAAI,CAACR,GAAL,CAAS0B,MAAT,CADG,EAEVvB,KAFU,CAEJ,CAAC,CAAD,EAAIoB,UAAJ,CAFI,EAGVQ,OAHU,CAGF,GAHE,CAAf;AAKA,MAAMC,MAAM,GAAGvE,EAAE,CAACwE,WAAH,GACVlC,MADU,CACH,CAAC,CAAD,EAAItC,EAAE,CAACyE,GAAH,CAAO1B,IAAP,EAAagB,MAAb,CAAJ,CADG,EAEVrB,KAFU,CAEJ,CAACmB,WAAD,EAAc,CAAd,CAFI,CAAf;AAIA,MAAMvD,CAAC,GAAG8G,IAAI,CAAC7G,MAAL,CAAY,GAAZ,EACLC,IADK,CACA,WADA,sBAC0BgH,OAAO,CAAC5D,IADlC,eAC2C4D,OAAO,CAAC/D,GADnD,OAAV;AAGAnD,GAAC,CAACC,MAAF,CAAS,GAAT,EAAcE,IAAd,CAAmBT,EAAE,CAAC0E,QAAH,CAAYH,MAAZ,CAAnB;AAEAjE,GAAC,CAACC,MAAF,CAAS,GAAT,EACKE,IADL,CACUT,EAAE,CAAC2E,UAAH,CAAcP,MAAd,CADV,EAEK5D,IAFL,CAEU,WAFV,yBAEuCqD,WAFvC;AAIAvD,GAAC,CAACwC,SAAF,CAAY,MAAZ,EAAoBC,IAApB,CAAyBA,IAAzB,EACKC,KADL,GACazC,MADb,CACoB,MADpB,EAEKC,IAFL,CAEU,OAFV,EAEmB,MAFnB,EAGKA,IAHL,CAGU,GAHV,EAGe,UAAAS,CAAC;AAAA,WAAImD,MAAM,CAACnD,CAAC,CAACwG,OAAH,CAAV;AAAA,GAHhB,EAIKjH,IAJL,CAIU,GAJV,EAIe,UAAAS,CAAC;AAAA,WAAIsD,MAAM,CAACtD,CAAC,CAAC+C,KAAH,CAAV;AAAA,GAJhB,EAKKxD,IALL,CAKU,OALV,EAKmB4D,MAAM,CAACQ,SAAP,EALnB,EAMKpE,IANL,CAMU,QANV,EAMoB,UAAAS,CAAC;AAAA,WAAI4C,WAAW,GAAGU,MAAM,CAACtD,CAAC,CAAC+C,KAAH,CAAxB;AAAA,GANrB;AAOH,CAhCD;;AAkCAhE,EAAE,CAAC6E,GAAH,CAAO,iBAAP,EAA0BrD,IAA1B,CAA+B,UAAAuB,IAAI,EAAI;AACnCA,MAAI,CAACnB,OAAL,CAAa,UAAAX,CAAC,EAAI;AACdA,KAAC,CAAC+C,KAAF,GAAU,CAAC/C,CAAC,CAAC+C,KAAb;AACH,GAFD;AAGA0D,SAAO,CAACC,GAAR,CAAY5E,IAAZ;AAEAwE,SAAO,CAACxE,IAAD,CAAP;AAEA/C,IAAE,CAAC8C,SAAH,CAAa,OAAb,EACK6C,KADL,CACW,MADX,EACmB,SADnB;AAEH,CAVD,E","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./index.js\");\n","const svg = d3.select(\"svg.dry-map\");\n\n// const projection = d3.geoNaturalEarth1();\nconst projection = d3.geoEckert4();\nconst pathGenerator = d3.geoPath().projection(projection)\n\nconst g = svg.append('g')\n\ng.append('path')\n    .attr('class', 'sphere')\n    // .attr('d', pathGenerator({type: 'Sphere'}))\n\nsvg.call(d3.zoom().on('zoom', () => {\n    g.attr('transform', d3.event.transform)\n}));\n\nconst colorScale = d3.scaleOrdinal();\nconst colorValue = d => d.properties.risk\n\nPromise.all([\n    d3.tsv('./src/fullwaterdata.tsv'),\n    d3.json('https://unpkg.com/world-atlas@1.1.4/world/110m.json')\n]).then(([tsvData, topoJSONdata]) => {\n        const rowById = {};\n        tsvData.forEach( d => {\n            rowById[d.iso_n3] = d;\n        })\n\n        const countries = topojson.feature(topoJSONdata, topoJSONdata.objects.countries)\n\n        countries.features.forEach( d => {\n            Object.assign(d.properties, rowById[d.id])\n        })\n\n        colorScale.domain(countries.features.map(colorValue))\n            .domain(colorScale.domain().sort().reverse())\n            .range(d3.schemeYlOrRd[colorScale.domain().length])\n            // .range(d3.schemeYlGn[colorScale.domain().length])\n\n\n        const myColorScale = d3.scaleOrdinal()\n            .domain([\"\", \"Low\", \"Low-Medium\", \"Medium-High\", \"High\", \"Extremely High\"])\n            .range(['white', '#ffff99', '#ffe600', '#ff9900', '#ff1900', '#9a0500'])\n\n        g.selectAll('path')\n            .data(countries.features)\n            .enter().append('path')\n                .attr('class', 'country')\n                .attr('d', pathGenerator)\n                // .attr('fill', d => colorScale(colorValue(d)))\n                .attr('fill', d => myColorScale(colorValue(d)))\n            .append('title')\n                .text(d => d.properties.name + ': ' + colorValue(d) + ' Risk')\n})\n\nconst svg2 = d3.select('svg.water-bars')\n\nconst width = +svg2.attr(\"width\");\nconst height = +svg2.attr(\"height\");\n\nconst render = (data, filter) => {\n    const margin = { top: 20, right: 20, bottom: 20, left: 80 };\n    const innerHeight = height - margin.top - margin.bottom;\n    const innerWidth = width - margin.left - margin.right;\n    const yValue = d => d.water;\n    const xValue = d => d.action;\n\n    const filteredData = data.filter( d => d.filter === filter)\n\n    const xScale = d3.scaleBand()\n        // .domain(data.filter( d => d.filter === filter).map(xValue))\n        // .domain(data.map(xValue))\n        .domain(filteredData.map(xValue))\n        .range([0, innerWidth])\n        .padding(0.1);\n\n    // console.log(xScale.domain())\n\n    const yScale = d3.scaleLinear()\n        .domain([0, d3.max(filteredData, yValue)])\n        // .domain([0, d3.max(data, yValue)])\n        // .domain([0, data.filter( d => d.filter === filter).d3.max(yValue)])\n        .range([innerHeight, 0]);\n\n    const g = svg2.append('g')\n        .attr('transform', `translate(${margin.left}, ${margin.top})`);\n\n    g.append('g').call(d3.axisLeft(yScale))\n    // .tickSize(10)\n    // .tickFormat('.3s')\n    // .select('.domain')\n    // .remove();\n\n    g.append(\"g\")\n        .call(d3.axisBottom(xScale))\n        .attr(\"transform\", `translate(0, ${innerHeight})`);\n    //   .append('text')\n    //     .attr('y', 0)\n    //     .attr('fill', 'black')\n    //     .text('water spent in gallons')\n    // .selectAll('.domain, .tick line')\n    // .remove();\n\n    g.selectAll('rect').data(filteredData)\n        .enter().append('rect')\n        .attr('class', 'bar')\n        .attr('x', d => xScale(d.action))\n        .attr('y', d => yScale(d.water))\n        .attr('width', xScale.bandwidth())\n        .attr('height', d => innerHeight - yScale(d.water));\n};\n\nd3.csv('./src/data.csv').then(data => {\n    data.forEach(d => {\n        d.water = +d.water;\n    });\n\n    let selector = \"flush\";\n    let myFilter = document.getElementsByName('filter');\n\n    render(data, selector);\n\n    myFilter.forEach( node => node.addEventListener('change', () => {\n        if(node.checked) selector = node.value;\n        let target = document.querySelector('.water-bars')\n        target.innerHTML = \"\"\n        render(data, selector)\n        d3.selectAll('rect')\n            .transition()\n            .duration(2000)\n            .style('fill', '#9AB9D5')\n            // .style('fill', 'url(#gradient)')\n    }));\n\n    const svg3 = d3.select('svg.pie')\n                    // .style(\"background-color\", \"pink\")\n    \n    const details = [{ water: \"Earth covered with Land\", number: 30 }, { water: \"Earth covered with Water\", number: 68 }, { water: \"Water Locked in Glaciers\", number: 1.6 }, { water: \"Fresh Water for Us to User\", number: 0.4 }]\n    // const pieColors = d3.scaleOrdinal(d3.schemePastel1)\n    const mypieColorScale = d3.scaleOrdinal()\n        .domain([30, 68, 0.4, 1.6])\n        .range(['#ebf1f7', '#cfddec', 'blue', '#a5c0db'])\n        // .range(['#ebf1f7', '#cfddec', '#5185b9', '#a5c0db'])\n\n    const width3 = +svg3.attr(\"width\");\n    const height3 = +svg3.attr(\"height\");\n\n    const data3 = d3.pie().sort(null).value(function(d){return d.number;})(details);\n    // console.log(data3)\n    var segments = d3.arc()\n                    .innerRadius(0)\n                    .outerRadius(200)\n                    .padAngle(0.05)\n                    .padRadius(50);\n    var sections = svg3.append(\"g\").attr(\"transform\", \"translate(250, 250)\")\n                    .selectAll(\"path\").data(data3)\n    sections.enter().append(\"path\").attr(\"d\", segments).attr(\"fill\", function(d){return mypieColorScale(d.data.number)})\n    var content = d3.select(\"g\").selectAll(\"text\").data(data3);\n    content.enter().append('text').each(function(d){\n        var center = segments.centroid(d);\n        d3.select(this).attr(\"x\", center[0]).attr(\"y\", center[1])\n                        // .text(d.data.water);\n    })\n\n    var legends = svg3.append('g').attr('transform', 'translate(500, 300)')\n                    .selectAll(\".legends\").data(data3);\n    var legend = legends.enter().append('g').classed(\"legends\", true).attr(\"transform\", function(d,i){return \"translate(0,\" +(i+1)*30 + \")\";});\n    legend.append(\"rect\").attr(\"width\", 20).attr(\"height\", 20).attr(\"fill\", function(d){return colors3(d.data.number);});\n    legend.append(\"text\").classed(\"label\", true).text(function(d){\n        return d.data.water\n    }).attr(\"fill\", function(d){return colors3(d.data.number);})\n        .attr(\"x\", 30)\n        .attr(\"y\", 20);\n});\n\nconst svg4 = d3.select('svg.waterwater');\n\nconst width4 = +svg4.attr(\"width\");\nconst height4 = +svg4.attr(\"height\");\n\nconst render2 = (data) => {\n    const margin4 = { top: 20, right: 20, bottom: 20, left: 80 };\n    const innerHeight = height4 - margin4.top - margin4.bottom;\n    const innerWidth = width4 - margin4.left - margin4.right;\n    const yValue = d => d.water;\n    const xValue = d => d.country;\n\n    const xScale = d3.scaleBand()\n        .domain(data.map(xValue))\n        .range([0, innerWidth])\n        .padding(0.1);\n\n    const yScale = d3.scaleLinear()\n        .domain([0, d3.max(data, yValue)])\n        .range([innerHeight, 0]);\n\n    const g = svg4.append('g')\n        .attr('transform', `translate(${margin4.left}, ${margin4.top})`);\n\n    g.append('g').call(d3.axisLeft(yScale))\n\n    g.append(\"g\")\n        .call(d3.axisBottom(xScale))\n        .attr(\"transform\", `translate(0, ${innerHeight})`);\n\n    g.selectAll('rect').data(data)\n        .enter().append('rect')\n        .attr('class', 'bar2')\n        .attr('x', d => xScale(d.country))\n        .attr('y', d => yScale(d.water))\n        .attr('width', xScale.bandwidth())\n        .attr('height', d => innerHeight - yScale(d.water));\n};\n\nd3.csv('./src/data2.csv').then(data => {\n    data.forEach(d => {\n        d.water = +d.water;\n    });\n    console.log(data)\n\n    render2(data);\n\n    d3.selectAll('.bar2')\n        .style('fill', '#9AB9D5')\n})"],"sourceRoot":""}