{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./index.js"],"names":["svg","d3","select","projection","geoNaturalEarth1","pathGenerator","geoPath","g","append","attr","call","zoom","on","event","transform","colorScale","scaleOrdinal","colorValue","d","properties","risk","Promise","all","tsv","json","then","tsvData","topoJSONdata","rowById","forEach","iso_n3","countries","topojson","feature","objects","features","Object","assign","id","domain","map","sort","reverse","range","schemeYlOrRd","length","myColorScale","selectAll","data","enter","text","name","svg2","width","height","render","filter","margin","top","right","bottom","left","innerHeight","innerWidth","yValue","water","xValue","action","filteredData","xScale","scaleBand","padding","yScale","scaleLinear","max","axisLeft","axisBottom","bandwidth","csv","selector","highlight","myFilter","document","getElementsByName","node","addEventListener","checked","value","target","querySelector","innerHTML","transition","duration","style","myID","getElementById","console","log","svg3","div","details","number","mypieColorScale","data3","pie","segments","arc","innerRadius","outerRadius","padAngle","padRadius","sections","i","quote","toString","html","pageX","pageY","content","each","center","centroid","legends","legend","classed","svg4","div2","width4","height4","render2","margin4","country","quote2"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./index.js\");\n","const svg = d3.select(\"svg.dry-map\");\n\nconst projection = d3.geoNaturalEarth1();\n// const projection = d3.geoEckert4();\nconst pathGenerator = d3.geoPath().projection(projection)\n\nconst g = svg.append('g')\n\ng.append('path')\n    .attr('class', 'sphere')\n\nsvg.call(d3.zoom().on('zoom', () => {\n    g.attr('transform', d3.event.transform)\n}));\n\nconst colorScale = d3.scaleOrdinal();\nconst colorValue = d => d.properties.risk\n\nPromise.all([\n    d3.tsv('./src/fullwaterdata.tsv'),\n    d3.json('https://unpkg.com/world-atlas@1.1.4/world/110m.json')\n]).then(([tsvData, topoJSONdata]) => {\n        const rowById = {};\n        tsvData.forEach( d => {\n            rowById[d.iso_n3] = d;\n        })\n\n        const countries = topojson.feature(topoJSONdata, topoJSONdata.objects.countries)\n\n        countries.features.forEach( d => {\n            Object.assign(d.properties, rowById[d.id])\n        })\n\n        colorScale.domain(countries.features.map(colorValue))\n            .domain(colorScale.domain().sort().reverse())\n            .range(d3.schemeYlOrRd[colorScale.domain().length])\n            // .range(d3.schemeYlGn[colorScale.domain().length])\n\n\n        const myColorScale = d3.scaleOrdinal()\n            .domain([\"\", \"Low\", \"Low-Medium\", \"Medium-High\", \"High\", \"Extremely High\"])\n            .range(['white', '#ffff99', '#ffe600', '#ff9900', '#ff1900', '#9a0500'])\n\n        g.selectAll('path')\n            .data(countries.features)\n            .enter().append('path')\n                .attr('class', 'country')\n                .attr('d', pathGenerator)\n                // .attr('fill', d => colorScale(colorValue(d)))\n                .attr('fill', d => myColorScale(colorValue(d)))\n            .append('title')\n                .text(d => d.properties.name + ': ' + colorValue(d) + ' Risk')\n})\n\nconst svg2 = d3.select('svg.water-bars')\n\n// const width = +svg2.attr(\"width\");\nconst width = 550;\nconst height = 500;\n// const height = +svg2.attr(\"height\");\n\nconst render = (data, filter) => {\n    const margin = { top: 20, right: 20, bottom: 20, left: 80 };\n    const innerHeight = height - margin.top - margin.bottom;\n    const innerWidth = width - margin.left - margin.right;\n    const yValue = d => d.water;\n    const xValue = d => d.action;\n\n    const filteredData = data.filter( d => d.filter === filter);\n\n    const xScale = d3.scaleBand()\n        // .domain(data.filter( d => d.filter === filter).map(xValue))\n        // .domain(data.map(xValue))\n        .domain(filteredData.map(xValue))\n        .range([0, innerWidth])\n        .padding(0.1);\n\n    // console.log(xScale.domain())\n\n    const yScale = d3.scaleLinear()\n        .domain([0, d3.max(filteredData, yValue)])\n        // .domain([0, d3.max(data, yValue)])\n        // .domain([0, data.filter( d => d.filter === filter).d3.max(yValue)])\n        .range([innerHeight, 0]);\n\n    const g = svg2.append('g')\n        .attr('transform', `translate(${margin.left}, ${margin.top})`);\n\n    g.append('g').call(d3.axisLeft(yScale));\n    // .tickSize(10)\n    // .tickFormat('.3s')\n    // .select('.domain')\n    // .remove();\n\n    g.append(\"g\")\n        .call(d3.axisBottom(xScale))\n        .attr(\"transform\", `translate(0, ${innerHeight})`);\n    //   .append('text')\n    //     .attr('y', 0)\n    //     .attr('fill', 'black')\n    //     .text('water spent in gallons')\n    // .selectAll('.domain, .tick line')\n    // .remove();\n\n    g.selectAll('rect').data(filteredData)\n        .enter().append('rect')\n        .attr('class', 'bar')\n        .attr('id', d => d.id)\n        .attr('x', d => xScale(d.action))\n        .attr('y', d => yScale(d.water))\n        .attr('width', xScale.bandwidth())\n        .attr('height', d => innerHeight - yScale(d.water));\n};\n\nd3.csv('./src/data.csv').then(data => {\n    data.forEach(d => {\n        d.water = +d.water;\n    });\n\n    let selector = \"flush\";\n    let highlight = \"lflush\"\n\n    let myFilter = document.getElementsByName('filter');\n\n    render(data, selector);\n\n    myFilter.forEach( node => node.addEventListener('change', () => {\n        if(node.checked) selector = node.value;\n        if(node.checked) highlight = node.id;\n\n        let target = document.querySelector('.water-bars')\n        target.innerHTML = \"\"\n        render(data, selector)\n        d3.selectAll('rect')\n            .transition()\n            .duration(2000)\n            .style('fill', '#9AB9D5')\n            .style('opacity', 0.8)\n            // .style('fill', 'url(#gradient)')\n        \n        let myID = document.getElementById(`${highlight}`);\n        console.log(myID)\n        // if(node.id === \"egg\")\n        d3.select(`rect#${highlight}`)\n            .transition()\n            .duration(2000)\n            .style('fill', 'red')\n            .style('opacity', 0.8)\n    }));\n\n    const svg3 = d3.select('svg.pie')\n                    // .style(\"background-color\", \"pink\")\n    var div = d3.select('body').append(\"div\")\n        .attr(\"class\", \"tooltip-donut\")\n        .style(\"opacity\", 0);\n    \n    const details = [{ water: \"Earth Covered With Land\", number: 30 }, { water: \"Earth Covered With Salt Water\", number: 68 }, { water: \"Water Locked in Glaciers\", number: 1.6 }, { water: \"Fresh Water for Us to Use\", number: 0.4 }]\n    // const pieColors = d3.scaleOrdinal(d3.schemePastel1)\n    const mypieColorScale = d3.scaleOrdinal()\n        .domain([30, 68, 0.4, 1.6])\n        .range(['#F6F4F5', '#cfddec', 'blue', '#a5c0db'])\n        // .range(['#ebf1f7', '#cfddec', '#5185b9', '#a5c0db'])\n\n    // const width3 = +svg3.attr(\"width\");\n    // const height3 = +svg3.attr(\"height\");\n\n    const data3 = d3.pie().sort(null).value(function(d){return d.number;})(details);\n    var segments = d3.arc()\n                    .innerRadius(0)\n                    .outerRadius(200)\n                    .padAngle(0.05)\n                    .padRadius(50);\n    var sections = svg3.append(\"g\").attr(\"transform\", \"translate(250, 250)\")\n                    .selectAll(\"path\").data(data3)\n    sections.enter().append(\"path\").attr(\"d\", segments)\n            .attr(\"fill\", function(d){return mypieColorScale(d.data.number)})\n            .on('mouseover', function(d,i){\n                d3.select(this).transition()\n                .duration('1000')\n                .style('transform', \"scale(1.03, 1.03)\")\n                .attr('fill', 'red')\n\n                div.transition()\n                .duration('1000')\n                .style('opacity', 1)\n\n                let quote = d.data.water + \": \" + d.data.number.toString() + \"%\"\n                \n                div.html(quote)\n                    .style(\"left\", (d3.event.pageX) + \"px\")\n                    .style(\"top\", (d3.event.pageY - 15) + \"px\");\n            })\n            .on('mouseout', function(d,i){\n                d3.select(this).transition()\n                .duration('100')\n                    .attr('fill', function (d) { return mypieColorScale(d.data.number) })\n                    .style('transform', \"scale(1.0, 1.0)\")\n\n                div.transition()\n                .duration('100')\n                .style('opacity', 0)\n            })\n    var content = d3.select(\"g\").selectAll(\"text\").data(data3);\n    content.enter().append('text').each(function(d){\n        var center = segments.centroid(d);\n        d3.select(this).attr(\"x\", center[0]).attr(\"y\", center[1])\n                        // .text(d.data.water);\n    })\n\n    var legends = svg3.append('g').attr('transform', 'translate(500, 300)')\n                    .selectAll(\".legends\").data(data3);\n    var legend = legends.enter().append('g').classed(\"legends\", true).attr(\"transform\", function(d,i){return \"translate(0,\" +(i+1)*30 + \")\";});\n    legend.append(\"rect\").attr(\"width\", 20).attr(\"height\", 20).attr(\"fill\", function (d) { return mypieColorScale(d.data.number);});\n    legend.append(\"text\").classed(\"label\", true).text(function(d){\n        return d.data.water\n    }).attr(\"fill\", function (d) { return mypieColorScale(d.data.number);})\n        .attr(\"x\", 30)\n        .attr(\"y\", 20);\n});\n\nconst svg4 = d3.select('svg.waterwater');\n\nvar div2 = d3.select('body').append(\"div\")\n    .attr(\"class\", \"tooltip-waterwater\")\n    .style(\"opacity\", 0);\n\n// const width4 = +svg4.attr(\"width\");\nconst width4 = 1160;\nconst height4 = 500;\n// const height4 = +svg4.attr(\"height\");\n\nconst render2 = (data) => {\n    const margin4 = { top: 20, right: 20, bottom: 20, left: 80 };\n    const innerHeight = height4 - margin4.top - margin4.bottom;\n    const innerWidth = width4 - margin4.left - margin4.right;\n    const yValue = d => d.water;\n    const xValue = d => d.country;\n\n    const xScale = d3.scaleBand()\n        .domain(data.map(xValue))\n        .range([0, innerWidth])\n        .padding(0.2);\n\n    const yScale = d3.scaleLinear()\n        .domain([0, d3.max(data, yValue)])\n        .range([innerHeight, 0]);\n\n    const g = svg4.append('g')\n        .attr('transform', `translate(${margin4.left}, ${margin4.top})`);\n\n    g.append('g').call(d3.axisLeft(yScale))\n\n    g.append(\"g\")\n        .call(d3.axisBottom(xScale))\n        .attr(\"transform\", `translate(0, ${innerHeight})`);\n\n    g.selectAll('rect').data(data)\n        .enter().append('rect')\n        .attr('class', 'bar2')\n        .attr('x', d => xScale(d.country))\n        .attr('y', d => yScale(d.water))\n        .attr('width', xScale.bandwidth())\n        .attr('height', d => innerHeight - yScale(d.water))\n        .attr('fill', '#9AB9D5')\n        .on('mouseover', function (d, i) {\n            d3.select(this).transition()\n                .duration('1000')\n                .attr('fill', 'red')\n                // .style('transform', 'scale(1.01, 1.0)')\n                // .style('transform-origin', \"50% 0%\")\n\n            div2.transition()\n                .duration('1000')\n                .style('opacity', 1)\n            \n            let quote2 = d.country + \": \" + d.water + \" cubic meters per capita\";\n\n            div2.html(quote2)\n                .style(\"left\", (d3.event.pageX) + \"px\")\n                .style(\"top\", (d3.event.pageY - 15) + \"px\");\n        })\n        .on('mouseout', function (d, i) {\n            d3.select(this).transition()\n                .duration('100')\n                .attr('fill', '#9AB9D5')\n                .style('transform', \"scale(1.0, 1.0)\")\n\n            div2.transition()\n                .duration('100')\n                .style('opacity', 0)\n        })\n\n};\n\nd3.csv('./src/data2.csv').then(data => {\n    data.forEach(d => {\n        d.water = +d.water;\n    });\n\n    render2(data);\n})"],"sourceRoot":""}